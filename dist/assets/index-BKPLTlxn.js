var In=Object.defineProperty;var Dn=(e,t,n)=>t in e?In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>Dn(e,typeof t!="symbol"?t+"":t,n);import{r as b,a as Fn,R as Mn,b as Un}from"./vendor-Gm9i_4Ku.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Pr={exports:{}},He={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=b,$n=Symbol.for("react.element"),Wn=Symbol.for("react.fragment"),qn=Object.prototype.hasOwnProperty,zn=Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hn={key:!0,ref:!0,__self:!0,__source:!0};function Tr(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)qn.call(t,r)&&!Hn.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:$n,type:e,key:o,ref:i,props:s,_owner:zn.current}}He.Fragment=Wn;He.jsx=Tr;He.jsxs=Tr;Pr.exports=He;var a=Pr.exports,bt={},Jt=Fn;bt.createRoot=Jt.createRoot,bt.hydrateRoot=Jt.hydrateRoot;var _r={exports:{}},kr={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=b;function Vn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kn=typeof Object.is=="function"?Object.is:Vn,Jn=je.useSyncExternalStore,Gn=je.useRef,Xn=je.useEffect,Yn=je.useMemo,Qn=je.useDebugValue;kr.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=Gn(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Yn(function(){function c(y){if(!u){if(u=!0,d=y,y=r(y),s!==void 0&&i.hasValue){var g=i.value;if(s(g,y))return f=g}return f=y}if(g=f,Kn(d,y))return g;var v=r(y);return s!==void 0&&s(g,v)?(d=y,g):(d=y,f=v)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var l=Jn(e,o[0],o[1]);return Xn(function(){i.hasValue=!0,i.value=l},[l]),Qn(l),l};_r.exports=kr;var Zn=_r.exports;function es(e){e()}function ts(){let e=null,t=null;return{clear(){e=null,t=null},notify(){es(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Gt={notify(){},get:()=>[]};function rs(e,t){let n,r=Gt,s=0,o=!1;function i(v){d();const p=r.subscribe(v);let N=!1;return()=>{N||(N=!0,p(),f())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return o}function d(){s++,n||(n=e.subscribe(c),r=ts())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Gt)}function m(){o||(o=!0,d())}function y(){o&&(o=!1,f())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return g}var ns=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ss=ns(),as=()=>typeof navigator<"u"&&navigator.product==="ReactNative",os=as(),is=()=>ss||os?b.useLayoutEffect:b.useEffect,ls=is(),it=Symbol.for("react-redux-context"),lt=typeof globalThis<"u"?globalThis:{};function cs(){if(!b.createContext)return{};const e=lt[it]??(lt[it]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Y=cs();function ds(e){const{children:t,context:n,serverState:r,store:s}=e,o=b.useMemo(()=>{const c=rs(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),i=b.useMemo(()=>s.getState(),[s]);ls(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const l=n||Y;return b.createElement(l.Provider,{value:o},t)}var us=ds;function Ft(e=Y){return function(){return b.useContext(e)}}var Or=Ft();function Ar(e=Y){const t=e===Y?Or:Ft(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Lr=Ar();function fs(e=Y){const t=e===Y?Lr:Ar(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ms=fs(),ps=(e,t)=>e===t;function hs(e=Y){const t=e===Y?Or:Ft(e),n=(r,s={})=>{const{equalityFn:o=ps}=typeof s=="function"?{equalityFn:s}:s,i=t(),{store:l,subscription:c,getServerState:u}=i;b.useRef(!0);const d=b.useCallback({[r.name](m){return r(m)}}[r.name],[r]),f=Zn.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,o);return b.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var xs=hs();function A(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gs=typeof Symbol=="function"&&Symbol.observable||"@@observable",Xt=gs,ct=()=>Math.random().toString(36).substring(7).split("").join("."),ys={INIT:`@@redux/INIT${ct()}`,REPLACE:`@@redux/REPLACE${ct()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ct()}`},Me=ys;function Mt(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ir(e,t,n){if(typeof e!="function")throw new Error(A(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(A(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(A(1));return n(Ir)(e,t)}let r=e,s=t,o=new Map,i=o,l=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((p,N)=>{i.set(N,p)}))}function d(){if(c)throw new Error(A(3));return s}function f(p){if(typeof p!="function")throw new Error(A(4));if(c)throw new Error(A(5));let N=!0;u();const x=l++;return i.set(x,p),function(){if(N){if(c)throw new Error(A(6));N=!1,u(),i.delete(x),o=null}}}function m(p){if(!Mt(p))throw new Error(A(7));if(typeof p.type>"u")throw new Error(A(8));if(typeof p.type!="string")throw new Error(A(17));if(c)throw new Error(A(9));try{c=!0,s=r(s,p)}finally{c=!1}return(o=i).forEach(x=>{x()}),p}function y(p){if(typeof p!="function")throw new Error(A(10));r=p,m({type:Me.REPLACE})}function g(){const p=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(A(11));function x(){const j=N;j.next&&j.next(d())}return x(),{unsubscribe:p(x)}},[Xt](){return this}}}return m({type:Me.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:y,[Xt]:g}}function bs(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Me.INIT})>"u")throw new Error(A(12));if(typeof n(void 0,{type:Me.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(A(13))})}function vs(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const i=t[o];typeof e[i]=="function"&&(n[i]=e[i])}const r=Object.keys(n);let s;try{bs(n)}catch(o){s=o}return function(i={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],y=i[f],g=m(y,l);if(typeof g>"u")throw l&&l.type,new Error(A(14));u[f]=g,c=c||g!==y}return c=c||r.length!==Object.keys(i).length,c?u:i}}function Ue(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function ws(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(A(15))};const i={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},l=e.map(c=>c(i));return o=Ue(...l)(s.dispatch),{...s,dispatch:o}}}function Ns(e){return Mt(e)&&"type"in e&&typeof e.type=="string"}var Dr=Symbol.for("immer-nothing"),Yt=Symbol.for("immer-draftable"),B=Symbol.for("immer-state");function z(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ce=Object.getPrototypeOf;function ne(e){return!!e&&!!e[B]}function J(e){var t;return e?Fr(e)||Array.isArray(e)||!!e[Yt]||!!((t=e.constructor)!=null&&t[Yt])||Ke(e)||Je(e):!1}var js=Object.prototype.constructor.toString();function Fr(e){if(!e||typeof e!="object")return!1;const t=ce(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===js}function Be(e,t){Ve(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ve(e){const t=e[B];return t?t.type_:Array.isArray(e)?1:Ke(e)?2:Je(e)?3:0}function vt(e,t){return Ve(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mr(e,t,n){const r=Ve(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Es(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ke(e){return e instanceof Map}function Je(e){return e instanceof Set}function Z(e){return e.copy_||e.base_}function wt(e,t){if(Ke(e))return new Map(e);if(Je(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Fr(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[B];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const i=s[o],l=r[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(ce(e),r)}else{const r=ce(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Ut(e,t=!1){return Ge(e)||ne(e)||!J(e)||(Ve(e)>1&&(e.set=e.add=e.clear=e.delete=Cs),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Ut(r,!0))),e}function Cs(){z(2)}function Ge(e){return Object.isFrozen(e)}var Ss={};function se(e){const t=Ss[e];return t||z(0,e),t}var ge;function Ur(){return ge}function Rs(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qt(e,t){t&&(se("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nt(e){jt(e),e.drafts_.forEach(Ps),e.drafts_=null}function jt(e){e===ge&&(ge=e.parent_)}function Zt(e){return ge=Rs(ge,e)}function Ps(e){const t=e[B];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function er(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[B].modified_&&(Nt(t),z(4)),J(e)&&(e=$e(t,e),t.parent_||We(t,e)),t.patches_&&se("Patches").generateReplacementPatches_(n[B].base_,e,t.patches_,t.inversePatches_)):e=$e(t,n,[]),Nt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Dr?e:void 0}function $e(e,t,n){if(Ge(t))return t;const r=t[B];if(!r)return Be(t,(s,o)=>tr(e,r,t,s,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return We(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,i=!1;r.type_===3&&(o=new Set(s),s.clear(),i=!0),Be(o,(l,c)=>tr(e,r,s,l,c,n,i)),We(e,s,!1),n&&e.patches_&&se("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function tr(e,t,n,r,s,o,i){if(ne(s)){const l=o&&t&&t.type_!==3&&!vt(t.assigned_,r)?o.concat(r):void 0,c=$e(e,s,l);if(Mr(n,r,c),ne(c))e.canAutoFreeze_=!1;else return}else i&&n.add(s);if(J(s)&&!Ge(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$e(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&We(e,s)}}function We(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ut(t,n)}function Ts(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ur(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Bt;n&&(s=[r],o=ye);const{revoke:i,proxy:l}=Proxy.revocable(s,o);return r.draft_=l,r.revoke_=i,l}var Bt={get(e,t){if(t===B)return e;const n=Z(e);if(!vt(n,t))return _s(e,n,t);const r=n[t];return e.finalized_||!J(r)?r:r===dt(e.base_,t)?(ut(e),e.copy_[t]=Ct(r,e)):r},has(e,t){return t in Z(e)},ownKeys(e){return Reflect.ownKeys(Z(e))},set(e,t,n){const r=Br(Z(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=dt(Z(e),t),o=s==null?void 0:s[B];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Es(n,s)&&(n!==void 0||vt(e.base_,t)))return!0;ut(e),Et(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return dt(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ut(e),Et(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Z(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){z(11)},getPrototypeOf(e){return ce(e.base_)},setPrototypeOf(){z(12)}},ye={};Be(Bt,(e,t)=>{ye[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ye.deleteProperty=function(e,t){return ye.set.call(this,e,t,void 0)};ye.set=function(e,t,n){return Bt.set.call(this,e[0],t,n,e[0])};function dt(e,t){const n=e[B];return(n?Z(n):e)[t]}function _s(e,t,n){var s;const r=Br(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function Br(e,t){if(!(t in e))return;let n=ce(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ce(n)}}function Et(e){e.modified_||(e.modified_=!0,e.parent_&&Et(e.parent_))}function ut(e){e.copy_||(e.copy_=wt(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ks=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const i=this;return function(c=o,...u){return i.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&z(6),r!==void 0&&typeof r!="function"&&z(7);let s;if(J(t)){const o=Zt(this),i=Ct(t,void 0);let l=!0;try{s=n(i),l=!1}finally{l?Nt(o):jt(o)}return Qt(o,r),er(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Dr&&(s=void 0),this.autoFreeze_&&Ut(s,!0),r){const o=[],i=[];se("Patches").generateReplacementPatches_(t,s,o,i),r(o,i)}return s}else z(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let r,s;return[this.produce(t,n,(i,l)=>{r=i,s=l}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){J(e)||z(8),ne(e)&&(e=Os(e));const t=Zt(this),n=Ct(e,void 0);return n[B].isManual_=!0,jt(t),n}finishDraft(e,t){const n=e&&e[B];(!n||!n.isManual_)&&z(9);const{scope_:r}=n;return Qt(r,t),er(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=se("Patches").applyPatches_;return ne(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Ct(e,t){const n=Ke(e)?se("MapSet").proxyMap_(e,t):Je(e)?se("MapSet").proxySet_(e,t):Ts(e,t);return(t?t.scope_:Ur()).drafts_.push(n),n}function Os(e){return ne(e)||z(10,e),$r(e)}function $r(e){if(!J(e)||Ge(e))return e;const t=e[B];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wt(e,t.scope_.immer_.useStrictShallowCopy_)}else n=wt(e,!0);return Be(n,(r,s)=>{Mr(n,r,$r(s))}),t&&(t.finalized_=!1),n}var $=new ks,Wr=$.produce;$.produceWithPatches.bind($);$.setAutoFreeze.bind($);$.setUseStrictShallowCopy.bind($);$.applyPatches.bind($);$.createDraft.bind($);$.finishDraft.bind($);function qr(e){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,e):s(o)}var As=qr(),Ls=qr,Is=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ue:Ue.apply(null,arguments)};function rr(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(K(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Ns(r)&&r.type===e,n}var zr=class he extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,he.prototype)}static get[Symbol.species](){return he}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new he(...t[0].concat(this)):new he(...t.concat(this))}};function nr(e){return J(e)?Wr(e,()=>{}):e}function ke(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ds(e){return typeof e=="boolean"}var Fs=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let i=new zr;return n&&(Ds(n)?i.push(As):i.push(Ls(n.extraArgument))),i},Ms="RTK_autoBatch",sr=e=>t=>{setTimeout(t,e)},Us=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,o=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sr(10):e.type==="callback"?e.queueNotification:sr(e.timeout),u=()=>{i=!1,o&&(o=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>s&&d(),m=r.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[Ms]),o=!s,o&&(i||(i=!0,c(u))),r.dispatch(d)}finally{s=!0}}})},Bs=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new zr(e);return r&&s.push(Us(typeof r=="object"?r:void 0)),s};function $s(e){const t=Fs(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:i=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Mt(n))l=vs(n);else throw new Error(K(1));let c;typeof r=="function"?c=r(t):c=t();let u=Ue;s&&(u=Is({trace:!1,...typeof s=="object"&&s}));const d=ws(...c),f=Bs(d);let m=typeof i=="function"?i(f):f();const y=u(...m);return Ir(l,o,y)}function Hr(e){const t={},n=[];let r;const s={addCase(o,i){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(K(28));if(l in t)throw new Error(K(29));return t[l]=i,s},addMatcher(o,i){return n.push({matcher:o,reducer:i}),s},addDefaultCase(o){return r=o,s}};return e(s),[t,n,r]}function Ws(e){return typeof e=="function"}function qs(e,t){let[n,r,s]=Hr(t),o;if(Ws(e))o=()=>nr(e());else{const l=nr(e);o=()=>l}function i(l=o(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(ne(d)){const y=f(d,c);return y===void 0?d:y}else{if(J(d))return Wr(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=o,i}var zs=Symbol.for("rtk-slice-createasyncthunk");function Hs(e,t){return`${e}/${t}`}function Vs({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[zs];return function(s){const{name:o,reducerPath:i=o}=s;if(!o)throw new Error(K(11));const l=(typeof s.reducers=="function"?s.reducers(Gs()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,E){const R=typeof j=="string"?j:j.type;if(!R)throw new Error(K(12));if(R in u.sliceCaseReducersByType)throw new Error(K(13));return u.sliceCaseReducersByType[R]=E,d},addMatcher(j,E){return u.sliceMatchers.push({matcher:j,reducer:E}),d},exposeAction(j,E){return u.actionCreators[j]=E,d},exposeCaseReducer(j,E){return u.sliceCaseReducersByName[j]=E,d}};c.forEach(j=>{const E=l[j],R={reducerName:j,type:Hs(o,j),createNotation:typeof s.reducers=="function"};Ys(E)?Zs(R,E,d,t):Xs(R,E,d)});function f(){const[j={},E=[],R=void 0]=typeof s.extraReducers=="function"?Hr(s.extraReducers):[s.extraReducers],k={...j,...u.sliceCaseReducersByType};return qs(s.initialState,O=>{for(let _ in k)O.addCase(_,k[_]);for(let _ of u.sliceMatchers)O.addMatcher(_.matcher,_.reducer);for(let _ of E)O.addMatcher(_.matcher,_.reducer);R&&O.addDefaultCase(R)})}const m=j=>j,y=new Map,g=new WeakMap;let v;function p(j,E){return v||(v=f()),v(j,E)}function N(){return v||(v=f()),v.getInitialState()}function x(j,E=!1){function R(O){let _=O[j];return typeof _>"u"&&E&&(_=ke(g,R,N)),_}function k(O=m){const _=ke(y,E,()=>new WeakMap);return ke(_,O,()=>{const U={};for(const[W,Q]of Object.entries(s.selectors??{}))U[W]=Ks(Q,O,()=>ke(g,O,N),E);return U})}return{reducerPath:j,getSelectors:k,get selectors(){return k(R)},selectSlice:R}}const w={name:o,reducer:p,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:N,...x(i),injectInto(j,{reducerPath:E,...R}={}){const k=E??i;return j.inject({reducerPath:k,reducer:p},R),{...w,...x(k,!0)}}};return w}}function Ks(e,t,n,r){function s(o,...i){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...i)}return s.unwrapped=e,s}var Js=Vs();function Gs(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Xs({type:e,reducerName:t,createNotation:n},r,s){let o,i;if("reducer"in r){if(n&&!Qs(r))throw new Error(K(17));o=r.reducer,i=r.prepare}else o=r;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?rr(e,i):rr(e))}function Ys(e){return e._reducerDefinitionType==="asyncThunk"}function Qs(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Zs({type:e,reducerName:t},n,r,s){if(!s)throw new Error(K(18));const{payloadCreator:o,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=n,f=s(e,o,d);r.exposeAction(t,f),i&&r.addCase(f.fulfilled,i),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:i||Oe,pending:l||Oe,rejected:c||Oe,settled:u||Oe})}function Oe(){}function K(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ae=e=>{const n=e>=5e4?0:5e3;return{productAmount:e,baseFee:2500,deliveryFee:n,totalAmount:e+2500+n}},ft=e=>Array.isArray(e)?e.reduce((t,n)=>t+n.product.price*n.quantity,0):0,ie={currentStep:1,product:null,customer:{firstName:"",lastName:"",email:"",phone:""},creditCard:{cardNumber:"",cardHolder:"",expiryDate:"",cvv:"",cardType:null},delivery:{address:"",city:"",department:"",postalCode:"",recipientName:"",recipientPhone:""},fees:{productAmount:0,baseFee:2500,deliveryFee:5e3,totalAmount:7500},transaction:{transactionId:"",status:"pending",message:"",productNewStock:0,wompiTransactionId:"",reference:"",amount:0},loading:!1,error:null,cartItems:[],cartTotal:0},Vr=Js({name:"payment",initialState:ie,reducers:{setCurrentStep:(e,t)=>{e.currentStep=t.payload},nextStep:e=>{e.currentStep<5&&(e.currentStep=e.currentStep+1)},previousStep:e=>{e.currentStep>1&&(e.currentStep=e.currentStep-1)},setProduct:(e,t)=>{e.product=t.payload},setCustomerInfo:(e,t)=>{e.customer=t.payload},setCreditCardInfo:(e,t)=>{e.creditCard=t.payload},setDeliveryInfo:(e,t)=>{e.delivery=t.payload},setTransactionInfo:(e,t)=>{e.transaction=t.payload},addToCart:(e,t)=>{Array.isArray(e.cartItems)||(e.cartItems=[]);const n=e.cartItems.find(r=>r.product.id===t.payload.id);n?n.quantity+=1:e.cartItems.push({product:t.payload,quantity:1}),e.cartTotal=ft(e.cartItems),e.fees=Ae(e.cartTotal)},removeFromCart:(e,t)=>{if(!Array.isArray(e.cartItems)){e.cartItems=[];return}e.cartItems=e.cartItems.filter(n=>n.product.id!==t.payload),e.cartTotal=ft(e.cartItems),e.fees=Ae(e.cartTotal)},updateCartItemQuantity:(e,t)=>{if(!Array.isArray(e.cartItems)){e.cartItems=[];return}const n=e.cartItems.find(r=>r.product.id===t.payload.productId);n&&(n.quantity=t.payload.quantity,n.quantity<=0&&(e.cartItems=e.cartItems.filter(r=>r.product.id!==t.payload.productId))),e.cartTotal=ft(e.cartItems),e.fees=Ae(e.cartTotal)},clearCart:e=>{e.cartItems=[],e.cartTotal=0,e.fees=Ae(0)},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},resetPaymentFlow:e=>{e.currentStep=1,e.customer=ie.customer,e.creditCard=ie.creditCard,e.delivery=ie.delivery,e.transaction=ie.transaction,e.loading=!1,e.error=null},resetEverything:()=>({...ie})}}),{setCurrentStep:be,nextStep:zi,previousStep:Hi,setProduct:ea,setCustomerInfo:ta,setCreditCardInfo:ra,setDeliveryInfo:na,setTransactionInfo:sa,addToCart:aa,removeFromCart:St,updateCartItemQuantity:Kr,clearCart:oa,setLoading:Vi,setError:Ki,resetPaymentFlow:Ji,resetEverything:Rt}=Vr.actions,ia=Vr.reducer,Jr="wompi_payment_state",mt={currentStep:1,cartItems:[],cartTotal:0,customer:{firstName:"",lastName:"",email:"",phone:""},creditCard:{cardNumber:"",cardHolder:"",expiryDate:"",cvv:"",cardType:null},delivery:{address:"",city:"",department:"",postalCode:"",recipientName:"",recipientPhone:""},fees:{productAmount:0,baseFee:2500,deliveryFee:5e3,totalAmount:7500},transaction:{transactionId:"",status:"pending",message:"",productNewStock:0,wompiTransactionId:"",reference:"",amount:0},loading:!1,error:null},la=e=>{try{const t=JSON.stringify(e);localStorage.setItem(Jr,t)}catch{}},ca=()=>{try{const e=localStorage.getItem(Jr);if(e===null)return mt;const t=JSON.parse(e);return{...mt,...t}}catch{return mt}},ar=ca(),Pt=$s({reducer:{payment:ia},preloadedState:ar?{payment:ar}:void 0,middleware:e=>e({serializableCheck:!1})});Pt.subscribe(()=>{la(Pt.getState().payment)});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}var X;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(X||(X={}));const or="popstate";function da(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Tt("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xr(s)}return fa(t,n,null,e)}function T(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ua(){return Math.random().toString(36).substr(2,8)}function ir(e,t){return{usr:e.state,key:e.key,idx:t}}function Tt(e,t,n,r){return n===void 0&&(n=null),ve({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?de(t):t,{state:n,key:t&&t.key||r||ua()})}function Xr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function de(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fa(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=X.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ve({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=X.Pop;let p=d(),N=p==null?null:p-u;u=p,c&&c({action:l,location:v.location,delta:N})}function m(p,N){l=X.Push;let x=Tt(v.location,p,N);u=d()+1;let w=ir(x,u),j=v.createHref(x);try{i.pushState(w,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}o&&c&&c({action:l,location:v.location,delta:1})}function y(p,N){l=X.Replace;let x=Tt(v.location,p,N);u=d();let w=ir(x,u),j=v.createHref(x);i.replaceState(w,"",j),o&&c&&c({action:l,location:v.location,delta:0})}function g(p){let N=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof p=="string"?p:Xr(p);return x=x.replace(/ $/,"%20"),T(N,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,N)}let v={get action(){return l},get location(){return e(s,i)},listen(p){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(or,f),c=p,()=>{s.removeEventListener(or,f),c=null}},createHref(p){return t(s,p)},createURL:g,encodeLocation(p){let N=g(p);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:y,go(p){return i.go(p)}};return v}var lr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lr||(lr={}));function ma(e,t,n){return n===void 0&&(n="/"),pa(e,t,n)}function pa(e,t,n,r){let s=typeof t=="string"?de(t):t,o=Zr(s.pathname||"/",n);if(o==null)return null;let i=Yr(e);ha(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Ra(o);l=Ea(i[c],u)}return l}function Yr(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(T(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=te([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(T(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yr(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Na(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of Qr(o.path))s(o,i,c)}),t}function Qr(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Qr(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ha(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ja(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xa=/^:[\w-]+$/,ga=3,ya=2,ba=1,va=10,wa=-2,cr=e=>e==="*";function Na(e,t){let n=e.split("/"),r=n.length;return n.some(cr)&&(r+=wa),t&&(r+=ya),n.filter(s=>!cr(s)).reduce((s,o)=>s+(xa.test(o)?ga:o===""?ba:va),r)}function ja(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ea(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Ca({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:te([o,f.pathname]),pathnameBase:ka(te([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=te([o,f.pathnameBase]))}return i}function Ca(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Sa(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let v=l[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return y&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function Sa(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ra(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Pa(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?de(e):e;return{pathname:n?n.startsWith("/")?n:Ta(n,t):t,search:Oa(r),hash:Aa(s)}}function Ta(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pt(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _a(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function en(e,t){let n=_a(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tn(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=de(e):(s=ve({},e),T(!s.pathname||!s.pathname.includes("?"),pt("?","pathname","search",s)),T(!s.pathname||!s.pathname.includes("#"),pt("#","pathname","hash",s)),T(!s.search||!s.search.includes("#"),pt("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Pa(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const te=e=>e.join("/").replace(/\/\/+/g,"/"),ka=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oa=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aa=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function La(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rn=["post","put","patch","delete"];new Set(rn);const Ia=["get",...rn];new Set(Ia);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}const $t=b.createContext(null),Da=b.createContext(null),Ee=b.createContext(null),Xe=b.createContext(null),oe=b.createContext({outlet:null,matches:[],isDataRoute:!1}),nn=b.createContext(null);function Ce(){return b.useContext(Xe)!=null}function Ye(){return Ce()||T(!1),b.useContext(Xe).location}function sn(e){b.useContext(Ee).static||b.useLayoutEffect(e)}function an(){let{isDataRoute:e}=b.useContext(oe);return e?Ga():Fa()}function Fa(){Ce()||T(!1);let e=b.useContext($t),{basename:t,future:n,navigator:r}=b.useContext(Ee),{matches:s}=b.useContext(oe),{pathname:o}=Ye(),i=JSON.stringify(en(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return sn(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=tn(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:te([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function Ma(e,t){return Ua(e,t)}function Ua(e,t,n,r){Ce()||T(!1);let{navigator:s}=b.useContext(Ee),{matches:o}=b.useContext(oe),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ye(),d;if(t){var f;let p=typeof t=="string"?de(t):t;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||T(!1),d=p}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let p=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=ma(e,{pathname:y}),v=za(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:te([c,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:te([c,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&v?b.createElement(Xe.Provider,{value:{location:we({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:X.Pop}},v):v}function Ba(){let e=Ja(),t=La(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const $a=b.createElement(Ba,null);class Wa extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(oe.Provider,{value:this.props.routeContext},b.createElement(nn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qa(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext($t);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(oe.Provider,{value:t},r)}function za(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||T(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:y}=n,g=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let y,g=!1,v=null,p=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||$a,c&&(u<0&&m===0?(Xa("route-fallback"),g=!0,p=null):u===m&&(g=!0,p=f.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,m+1)),x=()=>{let w;return y?w=v:g?w=p:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(qa,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(Wa,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:x(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):x()},null)}var on=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(on||{}),ln=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ln||{});function Ha(e){let t=b.useContext($t);return t||T(!1),t}function Va(e){let t=b.useContext(Da);return t||T(!1),t}function Ka(e){let t=b.useContext(oe);return t||T(!1),t}function cn(e){let t=Ka(),n=t.matches[t.matches.length-1];return n.route.id||T(!1),n.route.id}function Ja(){var e;let t=b.useContext(nn),n=Va(),r=cn();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ga(){let{router:e}=Ha(on.UseNavigateStable),t=cn(ln.UseNavigateStable),n=b.useRef(!1);return sn(()=>{n.current=!0}),b.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,we({fromRouteId:t},o)))},[e,t])}const dr={};function Xa(e,t,n){dr[e]||(dr[e]=!0)}function Ya(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qa(e){let{to:t,replace:n,state:r,relative:s}=e;Ce()||T(!1);let{future:o,static:i}=b.useContext(Ee),{matches:l}=b.useContext(oe),{pathname:c}=Ye(),u=an(),d=tn(t,en(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Le(e){T(!1)}function Za(e){let{basename:t="/",children:n=null,location:r,navigationType:s=X.Pop,navigator:o,static:i=!1,future:l}=e;Ce()&&T(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:o,static:i,future:we({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=de(r));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:g="default"}=r,v=b.useMemo(()=>{let p=Zr(d,c);return p==null?null:{location:{pathname:p,search:f,hash:m,state:y,key:g},navigationType:s}},[c,d,f,m,y,g,s]);return v==null?null:b.createElement(Ee.Provider,{value:u},b.createElement(Xe.Provider,{children:n,value:v}))}function eo(e){let{children:t,location:n}=e;return Ma(_t(t),n)}new Promise(()=>{});function _t(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let o=[...t,s];if(r.type===b.Fragment){n.push.apply(n,_t(r.props.children,o));return}r.type!==Le&&T(!1),!r.props.index||!r.props.children||T(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=_t(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const to="6";try{window.__reactRouterVersion=to}catch{}const ro="startTransition",ur=Mn[ro];function no(e){let{basename:t,children:n,future:r,window:s}=e,o=b.useRef();o.current==null&&(o.current=da({window:s,v5Compat:!0}));let i=o.current,[l,c]=b.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&ur?ur(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>i.listen(d),[i,d]),b.useEffect(()=>Ya(r),[r]),b.createElement(Za,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var fr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fr||(fr={}));var mr;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mr||(mr={}));const ue=()=>ms(),Qe=xs;function dn(e,t){return function(){return e.apply(t,arguments)}}const{toString:so}=Object.prototype,{getPrototypeOf:Wt}=Object,{iterator:Ze,toStringTag:un}=Symbol,et=(e=>t=>{const n=so.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>et(t)===e),tt=e=>t=>typeof t===e,{isArray:fe}=Array,Ne=tt("undefined");function ao(e){return e!==null&&!Ne(e)&&e.constructor!==null&&!Ne(e.constructor)&&F(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fn=H("ArrayBuffer");function oo(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fn(e.buffer),t}const io=tt("string"),F=tt("function"),mn=tt("number"),rt=e=>e!==null&&typeof e=="object",lo=e=>e===!0||e===!1,Ie=e=>{if(et(e)!=="object")return!1;const t=Wt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(un in e)&&!(Ze in e)},co=H("Date"),uo=H("File"),fo=H("Blob"),mo=H("FileList"),po=e=>rt(e)&&F(e.pipe),ho=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||F(e.append)&&((t=et(e))==="formdata"||t==="object"&&F(e.toString)&&e.toString()==="[object FormData]"))},xo=H("URLSearchParams"),[go,yo,bo,vo]=["ReadableStream","Request","Response","Headers"].map(H),wo=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Se(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),fe(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function pn(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hn=e=>!Ne(e)&&e!==ee;function kt(){const{caseless:e}=hn(this)&&this||{},t={},n=(r,s)=>{const o=e&&pn(t,s)||s;Ie(t[o])&&Ie(r)?t[o]=kt(t[o],r):Ie(r)?t[o]=kt({},r):fe(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Se(arguments[r],n);return t}const No=(e,t,n,{allOwnKeys:r}={})=>(Se(t,(s,o)=>{n&&F(s)?e[o]=dn(s,n):e[o]=s},{allOwnKeys:r}),e),jo=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Eo=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Co=(e,t,n,r)=>{let s,o,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&Wt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},So=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ro=e=>{if(!e)return null;if(fe(e))return e;let t=e.length;if(!mn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Po=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wt(Uint8Array)),To=(e,t)=>{const r=(e&&e[Ze]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},_o=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ko=H("HTMLFormElement"),Oo=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),pr=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ao=H("RegExp"),xn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Se(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},Lo=e=>{xn(e,(t,n)=>{if(F(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(F(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Io=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return fe(e)?r(e):r(String(e).split(t)),n},Do=()=>{},Fo=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mo(e){return!!(e&&F(e.append)&&e[un]==="FormData"&&e[Ze])}const Uo=e=>{const t=new Array(10),n=(r,s)=>{if(rt(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=fe(r)?[]:{};return Se(r,(i,l)=>{const c=n(i,s+1);!Ne(c)&&(o[l]=c)}),t[s]=void 0,o}}return r};return n(e,0)},Bo=H("AsyncFunction"),$o=e=>e&&(rt(e)||F(e))&&F(e.then)&&F(e.catch),gn=((e,t)=>e?setImmediate:t?((n,r)=>(ee.addEventListener("message",({source:s,data:o})=>{s===ee&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ee.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",F(ee.postMessage)),Wo=typeof queueMicrotask<"u"?queueMicrotask.bind(ee):typeof process<"u"&&process.nextTick||gn,qo=e=>e!=null&&F(e[Ze]),h={isArray:fe,isArrayBuffer:fn,isBuffer:ao,isFormData:ho,isArrayBufferView:oo,isString:io,isNumber:mn,isBoolean:lo,isObject:rt,isPlainObject:Ie,isReadableStream:go,isRequest:yo,isResponse:bo,isHeaders:vo,isUndefined:Ne,isDate:co,isFile:uo,isBlob:fo,isRegExp:Ao,isFunction:F,isStream:po,isURLSearchParams:xo,isTypedArray:Po,isFileList:mo,forEach:Se,merge:kt,extend:No,trim:wo,stripBOM:jo,inherits:Eo,toFlatObject:Co,kindOf:et,kindOfTest:H,endsWith:So,toArray:Ro,forEachEntry:To,matchAll:_o,isHTMLForm:ko,hasOwnProperty:pr,hasOwnProp:pr,reduceDescriptors:xn,freezeMethods:Lo,toObjectSet:Io,toCamelCase:Oo,noop:Do,toFiniteNumber:Fo,findKey:pn,global:ee,isContextDefined:hn,isSpecCompliantForm:Mo,toJSONObject:Uo,isAsyncFn:Bo,isThenable:$o,setImmediate:gn,asap:Wo,isIterable:qo};function C(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}h.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const yn=C.prototype,bn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bn[e]={value:e}});Object.defineProperties(C,bn);Object.defineProperty(yn,"isAxiosError",{value:!0});C.from=(e,t,n,r,s,o)=>{const i=Object.create(yn);return h.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),C.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const zo=null;function Ot(e){return h.isPlainObject(e)||h.isArray(e)}function vn(e){return h.endsWith(e,"[]")?e.slice(0,-2):e}function hr(e,t,n){return e?e.concat(t).map(function(s,o){return s=vn(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function Ho(e){return h.isArray(e)&&!e.some(Ot)}const Vo=h.toFlatObject(h,{},null,function(t){return/^is[A-Z]/.test(t)});function nt(e,t,n){if(!h.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=h.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,p){return!h.isUndefined(p[v])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(t);if(!h.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(h.isDate(g))return g.toISOString();if(h.isBoolean(g))return g.toString();if(!c&&h.isBlob(g))throw new C("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(g)||h.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,p){let N=g;if(g&&!p&&typeof g=="object"){if(h.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(h.isArray(g)&&Ho(g)||(h.isFileList(g)||h.endsWith(v,"[]"))&&(N=h.toArray(g)))return v=vn(v),N.forEach(function(w,j){!(h.isUndefined(w)||w===null)&&t.append(i===!0?hr([v],j,o):i===null?v:v+"[]",u(w))}),!1}return Ot(g)?!0:(t.append(hr(p,v,o),u(g)),!1)}const f=[],m=Object.assign(Vo,{defaultVisitor:d,convertValue:u,isVisitable:Ot});function y(g,v){if(!h.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),h.forEach(g,function(N,x){(!(h.isUndefined(N)||N===null)&&s.call(t,N,h.isString(x)?x.trim():x,v,m))===!0&&y(N,v?v.concat(x):[x])}),f.pop()}}if(!h.isObject(e))throw new TypeError("data must be an object");return y(e),t}function xr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function qt(e,t){this._pairs=[],e&&nt(e,this,t)}const wn=qt.prototype;wn.append=function(t,n){this._pairs.push([t,n])};wn.toString=function(t){const n=t?function(r){return t.call(this,r,xr)}:xr;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Ko(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nn(e,t,n){if(!t)return e;const r=n&&n.encode||Ko;h.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=h.isURLSearchParams(t)?t.toString():new qt(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class gr{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){h.forEach(this.handlers,function(r){r!==null&&t(r)})}}const jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jo=typeof URLSearchParams<"u"?URLSearchParams:qt,Go=typeof FormData<"u"?FormData:null,Xo=typeof Blob<"u"?Blob:null,Yo={isBrowser:!0,classes:{URLSearchParams:Jo,FormData:Go,Blob:Xo},protocols:["http","https","file","blob","url","data"]},zt=typeof window<"u"&&typeof document<"u",At=typeof navigator=="object"&&navigator||void 0,Qo=zt&&(!At||["ReactNative","NativeScript","NS"].indexOf(At.product)<0),Zo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ei=zt&&window.location.href||"http://localhost",ti=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zt,hasStandardBrowserEnv:Qo,hasStandardBrowserWebWorkerEnv:Zo,navigator:At,origin:ei},Symbol.toStringTag,{value:"Module"})),L={...ti,...Yo};function ri(e,t){return nt(e,new L.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return L.isNode&&h.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function ni(e){return h.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function si(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function En(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&h.isArray(s)?s.length:i,c?(h.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!h.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&h.isArray(s[i])&&(s[i]=si(s[i])),!l)}if(h.isFormData(e)&&h.isFunction(e.entries)){const n={};return h.forEachEntry(e,(r,s)=>{t(ni(r),s,n,0)}),n}return null}function ai(e,t,n){if(h.isString(e))try{return(t||JSON.parse)(e),h.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Re={transitional:jn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=h.isObject(t);if(o&&h.isHTMLForm(t)&&(t=new FormData(t)),h.isFormData(t))return s?JSON.stringify(En(t)):t;if(h.isArrayBuffer(t)||h.isBuffer(t)||h.isStream(t)||h.isFile(t)||h.isBlob(t)||h.isReadableStream(t))return t;if(h.isArrayBufferView(t))return t.buffer;if(h.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ri(t,this.formSerializer).toString();if((l=h.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return nt(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),ai(t)):t}],transformResponse:[function(t){const n=this.transitional||Re.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(h.isResponse(t)||h.isReadableStream(t))return t;if(t&&h.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?C.from(l,C.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:L.classes.FormData,Blob:L.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],e=>{Re.headers[e]={}});const oi=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ii=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&oi[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},yr=Symbol("internals");function pe(e){return e&&String(e).trim().toLowerCase()}function De(e){return e===!1||e==null?e:h.isArray(e)?e.map(De):String(e)}function li(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ci=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ht(e,t,n,r,s){if(h.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!h.isString(t)){if(h.isString(r))return t.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(t)}}function di(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ui(e,t){const n=h.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let M=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(l,c,u){const d=pe(c);if(!d)throw new Error("header name must be a non-empty string");const f=h.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=De(l))}const i=(l,c)=>h.forEach(l,(u,d)=>o(u,d,c));if(h.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(h.isString(t)&&(t=t.trim())&&!ci(t))i(ii(t),n);else if(h.isObject(t)&&h.isIterable(t)){let l={},c,u;for(const d of t){if(!h.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?h.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=pe(t),t){const r=h.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return li(s);if(h.isFunction(n))return n.call(this,s,r);if(h.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=pe(t),t){const r=h.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ht(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=pe(i),i){const l=h.findKey(r,i);l&&(!n||ht(r,r[l],l,n))&&(delete r[l],s=!0)}}return h.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||ht(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return h.forEach(this,(s,o)=>{const i=h.findKey(r,o);if(i){n[i]=De(s),delete n[o];return}const l=t?di(o):String(o).trim();l!==o&&delete n[o],n[l]=De(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return h.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&h.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[yr]=this[yr]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=pe(i);r[l]||(ui(s,i),r[l]=!0)}return h.isArray(t)?t.forEach(o):o(t),this}};M.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(M.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});h.freezeMethods(M);function xt(e,t){const n=this||Re,r=t||n,s=M.from(r.headers);let o=r.data;return h.forEach(e,function(l){o=l.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Cn(e){return!!(e&&e.__CANCEL__)}function me(e,t,n){C.call(this,e??"canceled",C.ERR_CANCELED,t,n),this.name="CanceledError"}h.inherits(me,C,{__CANCEL__:!0});function Sn(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new C("Request failed with status code "+n.status,[C.ERR_BAD_REQUEST,C.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fi(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mi(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,m=0;for(;f!==s;)m+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const y=d&&u-d;return y?Math.round(m*1e3/y):void 0}}function pi(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const qe=(e,t,n=3)=>{let r=0;const s=mi(50,250);return pi(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},br=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},vr=e=>(...t)=>h.asap(()=>e(...t)),hi=L.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,L.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(L.origin),L.navigator&&/(msie|trident)/i.test(L.navigator.userAgent)):()=>!0,xi=L.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];h.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),h.isString(r)&&i.push("path="+r),h.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gi(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yi(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Rn(e,t,n){let r=!gi(t);return e&&(r||n==!1)?yi(e,t):t}const wr=e=>e instanceof M?{...e}:e;function ae(e,t){t=t||{};const n={};function r(u,d,f,m){return h.isPlainObject(u)&&h.isPlainObject(d)?h.merge.call({caseless:m},u,d):h.isPlainObject(d)?h.merge({},d):h.isArray(d)?d.slice():d}function s(u,d,f,m){if(h.isUndefined(d)){if(!h.isUndefined(u))return r(void 0,u,f,m)}else return r(u,d,f,m)}function o(u,d){if(!h.isUndefined(d))return r(void 0,d)}function i(u,d){if(h.isUndefined(d)){if(!h.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(wr(u),wr(d),f,!0)};return h.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||s,m=f(e[d],t[d],d);h.isUndefined(m)&&f!==l||(n[d]=m)}),n}const Pn=e=>{const t=ae({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=M.from(i),t.url=Nn(Rn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(h.isFormData(n)){if(L.hasStandardBrowserEnv||L.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(L.hasStandardBrowserEnv&&(r&&h.isFunction(r)&&(r=r(t)),r||r!==!1&&hi(t.url))){const u=s&&o&&xi.read(o);u&&i.set(s,u)}return t},bi=typeof XMLHttpRequest<"u",vi=bi&&function(e){return new Promise(function(n,r){const s=Pn(e);let o=s.data;const i=M.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,m,y,g;function v(){y&&y(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout;function N(){if(!p)return;const w=M.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:e,request:p};Sn(function(k){n(k),v()},function(k){r(k),v()},E),p=null}"onloadend"in p?p.onloadend=N:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(N)},p.onabort=function(){p&&(r(new C("Request aborted",C.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new C("Network Error",C.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||jn;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new C(j,E.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,e,p)),p=null},o===void 0&&i.setContentType(null),"setRequestHeader"in p&&h.forEach(i.toJSON(),function(j,E){p.setRequestHeader(E,j)}),h.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),l&&l!=="json"&&(p.responseType=s.responseType),u&&([m,g]=qe(u,!0),p.addEventListener("progress",m)),c&&p.upload&&([f,y]=qe(c),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=w=>{p&&(r(!w||w.type?new me(null,e,p):w),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=fi(s.url);if(x&&L.protocols.indexOf(x)===-1){r(new C("Unsupported protocol "+x+":",C.ERR_BAD_REQUEST,e));return}p.send(o||null)})},wi=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof C?d:new me(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new C(`timeout ${t} of ms exceeded`,C.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>h.asap(l),c}},Ni=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ji=async function*(e,t){for await(const n of Ei(e))yield*Ni(n,t)},Ei=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Nr=(e,t,n,r)=>{const s=ji(e,t);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let m=o+=f;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},st=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tn=st&&typeof ReadableStream=="function",Ci=st&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_n=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Si=Tn&&_n(()=>{let e=!1;const t=new Request(L.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),jr=64*1024,Lt=Tn&&_n(()=>h.isReadableStream(new Response("").body)),ze={stream:Lt&&(e=>e.body)};st&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ze[t]&&(ze[t]=h.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new C(`Response type '${t}' is not supported`,C.ERR_NOT_SUPPORT,r)})})})(new Response);const Ri=async e=>{if(e==null)return 0;if(h.isBlob(e))return e.size;if(h.isSpecCompliantForm(e))return(await new Request(L.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(h.isArrayBufferView(e)||h.isArrayBuffer(e))return e.byteLength;if(h.isURLSearchParams(e)&&(e=e+""),h.isString(e))return(await Ci(e)).byteLength},Pi=async(e,t)=>{const n=h.toFiniteNumber(e.getContentLength());return n??Ri(t)},Ti=st&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=Pn(e);u=u?(u+"").toLowerCase():"text";let y=wi([s,o&&o.toAbortSignal()],i),g;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let p;try{if(c&&Si&&n!=="get"&&n!=="head"&&(p=await Pi(d,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),R;if(h.isFormData(r)&&(R=E.headers.get("content-type"))&&d.setContentType(R),E.body){const[k,O]=br(p,qe(vr(c)));r=Nr(E.body,jr,k,O)}}h.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;g=new Request(t,{...m,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:N?f:void 0});let x=await fetch(g,m);const w=Lt&&(u==="stream"||u==="response");if(Lt&&(l||w&&v)){const E={};["status","statusText","headers"].forEach(_=>{E[_]=x[_]});const R=h.toFiniteNumber(x.headers.get("content-length")),[k,O]=l&&br(R,qe(vr(l),!0))||[];x=new Response(Nr(x.body,jr,k,()=>{O&&O(),v&&v()}),E)}u=u||"text";let j=await ze[h.findKey(ze,u)||"text"](x,e);return!w&&v&&v(),await new Promise((E,R)=>{Sn(E,R,{data:j,headers:M.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:g})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new C("Network Error",C.ERR_NETWORK,e,g),{cause:N.cause||N}):C.from(N,N&&N.code,e,g)}}),It={http:zo,xhr:vi,fetch:Ti};h.forEach(It,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Er=e=>`- ${e}`,_i=e=>h.isFunction(e)||e===null||e===!1,kn={getAdapter:e=>{e=h.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!_i(n)&&(r=It[(i=String(n)).toLowerCase()],r===void 0))throw new C(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Er).join(`
`):" "+Er(o[0]):"as no adapter specified";throw new C("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:It};function gt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function Cr(e){return gt(e),e.headers=M.from(e.headers),e.data=xt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kn.getAdapter(e.adapter||Re.adapter)(e).then(function(r){return gt(e),r.data=xt.call(e,e.transformResponse,r),r.headers=M.from(r.headers),r},function(r){return Cn(r)||(gt(e),r&&r.response&&(r.response.data=xt.call(e,e.transformResponse,r.response),r.response.headers=M.from(r.response.headers))),Promise.reject(r)})}const On="1.10.0",at={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{at[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Sr={};at.transitional=function(t,n,r){function s(o,i){return"[Axios v"+On+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new C(s(i," has been removed"+(n?" in "+n:"")),C.ERR_DEPRECATED);return n&&!Sr[i]&&(Sr[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};at.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ki(e,t,n){if(typeof e!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new C("option "+o+" must be "+c,C.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new C("Unknown option "+o,C.ERR_BAD_OPTION)}}const Fe={assertOptions:ki,validators:at},V=Fe.validators;let re=class{constructor(t){this.defaults=t||{},this.interceptors={request:new gr,response:new gr}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ae(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Fe.assertOptions(r,{silentJSONParsing:V.transitional(V.boolean),forcedJSONParsing:V.transitional(V.boolean),clarifyTimeoutError:V.transitional(V.boolean)},!1),s!=null&&(h.isFunction(s)?n.paramsSerializer={serialize:s}:Fe.assertOptions(s,{encode:V.function,serialize:V.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fe.assertOptions(n,{baseUrl:V.spelling("baseURL"),withXsrfToken:V.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&h.merge(o.common,o[n.method]);o&&h.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=M.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,m;if(!c){const g=[Cr.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),m=g.length,d=Promise.resolve(n);f<m;)d=d.then(g[f++],g[f++]);return d}m=l.length;let y=n;for(f=0;f<m;){const g=l[f++],v=l[f++];try{y=g(y)}catch(p){v.call(this,p);break}}try{d=Cr.call(this,y)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ae(this.defaults,t);const n=Rn(t.baseURL,t.url,t.allowAbsoluteUrls);return Nn(n,t.params,t.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(t){re.prototype[t]=function(n,r){return this.request(ae(r||{},{method:t,url:n,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,l){return this.request(ae(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}re.prototype[t]=n(),re.prototype[t+"Form"]=n(!0)});let Oi=class An{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new me(o,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new An(function(s){t=s}),cancel:t}}};function Ai(e){return function(n){return e.apply(null,n)}}function Li(e){return h.isObject(e)&&e.isAxiosError===!0}const Dt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dt).forEach(([e,t])=>{Dt[t]=e});function Ln(e){const t=new re(e),n=dn(re.prototype.request,t);return h.extend(n,re.prototype,t,{allOwnKeys:!0}),h.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Ln(ae(e,s))},n}const P=Ln(Re);P.Axios=re;P.CanceledError=me;P.CancelToken=Oi;P.isCancel=Cn;P.VERSION=On;P.toFormData=nt;P.AxiosError=C;P.Cancel=P.CanceledError;P.all=function(t){return Promise.all(t)};P.spread=Ai;P.isAxiosError=Li;P.mergeConfig=ae;P.AxiosHeaders=M;P.formToJSON=e=>En(h.isHTMLForm(e)?new FormData(e):e);P.getAdapter=kn.getAdapter;P.HttpStatusCode=Dt;P.default=P;const{Axios:Yi,AxiosError:Qi,CanceledError:Zi,isCancel:el,CancelToken:tl,VERSION:rl,all:nl,Cancel:sl,isAxiosError:al,spread:ol,toFormData:il,AxiosHeaders:ll,HttpStatusCode:cl,formToJSON:dl,getAdapter:ul,mergeConfig:fl}=P,le=P.create({baseURL:"https://a9e7-2800-e6-4001-6ea9-accd-1a66-7960-e1be.ngrok-free.app",timeout:1e4,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});le.interceptors.request.use(e=>e,e=>(e.response||e.request,Promise.reject(e)));le.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;return((n=e.response)==null?void 0:n.status)===429&&!t._retry?(t._retry=!0,await new Promise(r=>setTimeout(r,1e3)),le(t)):Promise.reject(e)});const yt={getAllProducts:async()=>{var e,t;try{const n=await le.get("/api/products");if(!n.data.success)throw new Error(n.data.message||"Error al obtener los productos");return n.data.data}catch(n){throw new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Error al obtener productos")}},getProduct:async e=>{var t,n;try{const r=await le.get(`/api/products/${e}`);if(!r.data.success)throw new Error(r.data.message||"Error al obtener el producto");return r.data.data}catch(r){throw new Error(((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Error al obtener producto")}},getProductsByPage:async(e=1,t=10)=>{var n,r;try{const s=await le.get(`/products?page=${e}&limit=${t}`);if(!s.data.success)throw new Error(s.data.message||"Error al obtener los productos paginados");return s.data.data}catch(s){throw new Error(((r=(n=s.response)==null?void 0:n.data)==null?void 0:r.message)||"Error al obtener productos paginados")}}},Ii=({cardNumber:e})=>{const[t,n]=b.useState(null);return b.useEffect(()=>{const r=e.replace(/\D/g,"");if(r.length<1){n(null);return}if(r.startsWith("4")){n("visa");return}if(r.length>=4){const s=parseInt(r.substring(0,4)),o=parseInt(r.substring(0,2));if(o>=51&&o<=55){n("mastercard");return}if(s>=2221&&s<=2720){n("mastercard");return}}if(r.length>=2){const s=parseInt(r.substring(0,2));if(s>=51&&s<=55){n("mastercard");return}if(s>=22&&s<=27){n("mastercard");return}}n(null)},[e]),t?a.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10",children:[t==="visa"&&a.jsx("div",{className:"flex items-center bg-white rounded-md px-2 py-1 shadow-soft border",children:a.jsx("img",{src:"/visa-logo.svg",alt:"Visa",className:"h-5 w-auto"})}),t==="mastercard"&&a.jsx("div",{className:"flex items-center bg-white rounded-md px-2 py-1 shadow-soft border",children:a.jsx("img",{src:"/mastercard-logo.svg",alt:"Mastercard",className:"h-5 w-auto"})})]}):null},Di=({isOpen:e,onClose:t})=>{const n=ue(),[r,s]=b.useState({firstName:"",lastName:"",email:"",phone:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:"",address:"",city:"",department:"",postalCode:"",recipientName:"",recipientPhone:""}),[o,i]=b.useState("personal"),[l,c]=b.useState({}),[u,d]=b.useState(!1),f=x=>(x.replace(/\D/g,"").match(/.{1,4}/g)||[]).join(" "),m=x=>{let w=x.replace(/\D/g,"");w.length>16&&(w=w.slice(0,16)),s(j=>({...j,cardNumber:f(w)}))},y=x=>{let w=x.replace(/\D/g,"");w.length>4&&(w=w.slice(0,4)),w.length>=2&&(w=w.slice(0,2)+"/"+w.slice(2)),s(j=>({...j,expiryDate:w}))},g=()=>{const x={};return o==="personal"?(r.firstName.trim()||(x.firstName="Nombre requerido"),r.lastName.trim()||(x.lastName="Apellido requerido"),r.email.includes("@")||(x.email="Email inválido"),r.phone.trim()||(x.phone="Teléfono requerido")):o==="card"?(r.cardNumber.replace(/\s/g,"").length!==16&&(x.cardNumber="Número de tarjeta debe tener 16 dígitos"),r.cardHolder.trim()||(x.cardHolder="Nombre del titular requerido"),r.expiryDate.length!==5&&(x.expiryDate="Fecha inválida (MM/YY)"),r.cvv.length<3&&(x.cvv="CVV inválido")):o==="delivery"&&(r.address.trim()||(x.address="Dirección requerida"),r.city.trim()||(x.city="Ciudad requerida"),r.department.trim()||(x.department="Departamento requerido"),r.postalCode.trim()||(x.postalCode="Código postal requerido"),r.recipientName.trim()||(x.recipientName="Nombre del destinatario requerido"),r.recipientPhone.trim()||(x.recipientPhone="Teléfono del destinatario requerido")),c(x),Object.keys(x).length===0},v=()=>{g()&&(o==="personal"?i("card"):o==="card"?i("delivery"):p())},p=async()=>{if(g()){d(!0);try{await new Promise(j=>setTimeout(j,1e3));const x=r.cardNumber.replace(/\s/g,"");let w=null;x.startsWith("4")?w="visa":(x.startsWith("5")&&["1","2","3","4","5"].includes(x[1])||x.startsWith("2")&&parseInt(x.substring(0,4))>=2221&&parseInt(x.substring(0,4))<=2720)&&(w="mastercard"),n(ta({firstName:r.firstName,lastName:r.lastName,email:r.email,phone:r.phone})),n(ra({cardNumber:r.cardNumber,cardHolder:r.cardHolder,expiryDate:r.expiryDate,cvv:r.cvv,cardType:w})),n(na({address:r.address,city:r.city,department:r.department,postalCode:r.postalCode,recipientName:r.recipientName,recipientPhone:r.recipientPhone})),n(be(2)),t()}catch{}finally{d(!1)}}},N=[{id:"personal",title:"Personal",icon:"👤",description:"Información personal"},{id:"card",title:"Tarjeta",icon:"💳",description:"Datos de la tarjeta"},{id:"delivery",title:"Entrega",icon:"📦",description:"Dirección de entrega"}];return e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-neutral-900/80 backdrop-blur-sm z-50 animate-fadeIn",onClick:t}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-strong w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] flex flex-col animate-scaleIn",children:[a.jsxs("div",{className:"relative bg-gradient-primary text-white p-4 sm:p-6 rounded-t-2xl sm:rounded-t-3xl",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Información de Pago"}),a.jsx("p",{className:"text-primary-100",children:"Completa los datos para proceder"})]})]}),a.jsx("div",{className:"border-b border-neutral-200 bg-neutral-50",children:a.jsx("div",{className:"flex",children:N.map(x=>a.jsx("button",{onClick:()=>i(x.id),className:`flex-1 px-4 py-4 text-sm font-medium transition-colors ${o===x.id?"text-primary-600 border-b-2 border-primary-600 bg-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-lg",children:x.icon}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold",children:x.title}),a.jsx("div",{className:"text-xs text-neutral-500",children:x.description})]})]})},x.id))})}),a.jsxs("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:[o==="personal"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Información Personal"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Nombre"}),a.jsx("input",{type:"text",value:r.firstName,onChange:x=>s(w=>({...w,firstName:x.target.value})),className:`input-field ${l.firstName?"input-error":""}`,placeholder:"Tu nombre"}),l.firstName&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.firstName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Apellido"}),a.jsx("input",{type:"text",value:r.lastName,onChange:x=>s(w=>({...w,lastName:x.target.value})),className:`input-field ${l.lastName?"input-error":""}`,placeholder:"Tu apellido"}),l.lastName&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.lastName})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:r.email,onChange:x=>s(w=>({...w,email:x.target.value})),className:`input-field ${l.email?"input-error":""}`,placeholder:"tu@email.com"}),l.email&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Teléfono"}),a.jsx("input",{type:"tel",value:r.phone,onChange:x=>s(w=>({...w,phone:x.target.value})),className:`input-field ${l.phone?"input-error":""}`,placeholder:"+57 300 123 4567"}),l.phone&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.phone})]})]}),o==="card"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Datos de la Tarjeta"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Número de Tarjeta"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:r.cardNumber,onChange:x=>m(x.target.value),className:`input-field pr-16 ${l.cardNumber?"input-error":""}`,placeholder:"1234 5678 9012 3456",maxLength:19}),a.jsx(Ii,{cardNumber:r.cardNumber})]}),l.cardNumber&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.cardNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Nombre del Titular"}),a.jsx("input",{type:"text",value:r.cardHolder,onChange:x=>s(w=>({...w,cardHolder:x.target.value.toUpperCase()})),className:`input-field ${l.cardHolder?"input-error":""}`,placeholder:"NOMBRE COMO APARECE EN LA TARJETA"}),l.cardHolder&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.cardHolder})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Fecha de Vencimiento"}),a.jsx("input",{type:"text",value:r.expiryDate,onChange:x=>y(x.target.value),className:`input-field ${l.expiryDate?"input-error":""}`,placeholder:"MM/YY",maxLength:5}),l.expiryDate&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.expiryDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"CVV"}),a.jsx("input",{type:"text",value:r.cvv,onChange:x=>s(w=>({...w,cvv:x.target.value.replace(/\D/g,"").slice(0,4)})),className:`input-field ${l.cvv?"input-error":""}`,placeholder:"123",maxLength:4}),l.cvv&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.cvv})]})]})]}),o==="delivery"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Información de Entrega"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Dirección"}),a.jsx("input",{type:"text",value:r.address,onChange:x=>s(w=>({...w,address:x.target.value})),className:`input-field ${l.address?"input-error":""}`,placeholder:"Calle 123 #45-67"}),l.address&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.address})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Ciudad"}),a.jsx("input",{type:"text",value:r.city,onChange:x=>s(w=>({...w,city:x.target.value})),className:`input-field ${l.city?"input-error":""}`,placeholder:"Bogotá"}),l.city&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.city})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Departamento"}),a.jsx("input",{type:"text",value:r.department,onChange:x=>s(w=>({...w,department:x.target.value})),className:`input-field ${l.department?"input-error":""}`,placeholder:"Cundinamarca"}),l.department&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.department})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Código Postal"}),a.jsx("input",{type:"text",value:r.postalCode,onChange:x=>s(w=>({...w,postalCode:x.target.value})),className:`input-field ${l.postalCode?"input-error":""}`,placeholder:"110111"}),l.postalCode&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.postalCode})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Nombre del Destinatario"}),a.jsx("input",{type:"text",value:r.recipientName,onChange:x=>s(w=>({...w,recipientName:x.target.value})),className:`input-field ${l.recipientName?"input-error":""}`,placeholder:"Nombre completo"}),l.recipientName&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.recipientName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Teléfono del Destinatario"}),a.jsx("input",{type:"tel",value:r.recipientPhone,onChange:x=>s(w=>({...w,recipientPhone:x.target.value})),className:`input-field ${l.recipientPhone?"input-error":""}`,placeholder:"+57 300 123 4567"}),l.recipientPhone&&a.jsx("p",{className:"text-error-600 text-sm mt-1",children:l.recipientPhone})]})]})]})]}),a.jsx("div",{className:"flex-shrink-0 border-t border-neutral-200 p-4 sm:p-6 bg-neutral-50 rounded-b-3xl",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 sm:gap-4",children:[a.jsx("button",{onClick:()=>{o==="personal"?t():i(o==="card"?"personal":"card")},className:"btn-outline px-6 py-3 flex-shrink-0 order-2 sm:order-1",children:o==="personal"?"Cancelar":"Anterior"}),a.jsx("button",{onClick:v,disabled:u,className:`btn-primary px-8 py-3 flex-shrink-0 order-1 sm:order-2 ${u?"opacity-50 cursor-not-allowed":""}`,children:u?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"spinner w-4 h-4"}),a.jsx("span",{children:"Procesando..."})]}):o==="delivery"?a.jsx("span",{children:"Continuar al Resumen"}):a.jsx("span",{children:"Siguiente"})})]})})]})})]}):null},Fi=()=>{const e=ue(),{cartItems:t,cartTotal:n,fees:r}=Qe(m=>m.payment),[s,o]=b.useState(!1),[i,l]=b.useState(!1),c={baseFee:(r==null?void 0:r.baseFee)||2500,deliveryFee:(r==null?void 0:r.deliveryFee)||5e3,totalAmount:(r==null?void 0:r.totalAmount)||n+((r==null?void 0:r.baseFee)||2500)+((r==null?void 0:r.deliveryFee)||5e3),productAmount:(r==null?void 0:r.productAmount)||n},u=n||0;if(t.length===0)return null;const d=(m,y)=>{y<=0?e(St(m)):e(Kr({productId:m,quantity:y}))},f=t.reduce((m,y)=>m+y.quantity,0);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsx("button",{onClick:()=>o(!0),className:"bg-gradient-primary text-white rounded-2xl w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center shadow-strong hover:shadow-glow transition-all duration-300 hover:scale-110 group",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 group-hover:scale-110 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.6a1 1 0 001 1.4h9.2M7 13v6a1 1 0 001 1h8a1 1 0 001-1v-6m-9 1h10"})}),f>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-error-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-bounce-soft",children:f>99?"99+":f})]})})}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm z-50 animate-fadeIn",onClick:()=>o(!1)}),a.jsx("div",{className:"fixed inset-y-0 right-0 z-50 w-full max-w-md bg-white shadow-strong animate-slideUp sm:animate-fadeIn",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 bg-white sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-2xl flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.6a1 1 0 001 1.4h9.2M7 13v6a1 1 0 001 1h8a1 1 0 001-1v-6m-9 1h10"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Tu Carrito"}),a.jsxs("p",{className:"text-sm text-neutral-600",children:[t.length," producto",t.length!==1?"s":""]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"w-10 h-10 rounded-xl hover:bg-neutral-100 flex items-center justify-center transition-colors group",children:a.jsx("svg",{className:"w-5 h-5 text-neutral-600 group-hover:text-neutral-900 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("div",{className:"space-y-4",children:t.map((m,y)=>a.jsx("div",{className:"card p-4 animate-slideUp",style:{animationDelay:`${y*100}ms`},children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-primary-50 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-2xl",children:"📱"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-neutral-900 mb-1 line-clamp-2",children:m.product.name}),a.jsxs("p",{className:"text-sm text-neutral-600 mb-3",children:["$",m.product.price.toLocaleString()," c/u"]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(m.product.id,m.quantity-1),className:"w-7 h-7 rounded-lg bg-neutral-100 hover:bg-neutral-200 border border-neutral-200 flex items-center justify-center transition-all hover:scale-105",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),a.jsx("span",{className:"font-semibold text-sm px-2 py-1 bg-primary-50 text-primary-700 rounded-lg border border-primary-200 min-w-[2rem] text-center",children:m.quantity}),a.jsx("button",{onClick:()=>d(m.product.id,m.quantity+1),disabled:m.quantity>=m.product.stock,className:`w-7 h-7 rounded-lg flex items-center justify-center transition-all hover:scale-105 ${m.quantity>=m.product.stock?"bg-neutral-100 text-neutral-400 cursor-not-allowed border border-neutral-200":"bg-primary-600 text-white hover:bg-primary-700 border border-primary-600"}`,children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-primary-600 mb-1",children:["$",(m.product.price*m.quantity).toLocaleString()]}),a.jsxs("button",{onClick:()=>e(St(m.product.id)),className:"text-error-600 hover:text-error-700 text-xs flex items-center gap-1 ml-auto",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]})]})]})},m.product.id))}),t.length>1&&a.jsxs("button",{onClick:()=>e(oa()),className:"w-full mt-6 py-3 text-error-600 hover:text-error-700 text-sm font-medium border border-error-200 rounded-xl hover:bg-error-50 transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Vaciar Carrito"]})]}),a.jsxs("div",{className:"border-t border-neutral-200 p-6 bg-neutral-50 sticky bottom-0",children:[a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-neutral-600",children:"Subtotal productos:"}),a.jsxs("span",{className:"font-medium",children:["$",u.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-neutral-600",children:"Tarifa base:"}),a.jsxs("span",{className:"font-medium",children:["$",c.baseFee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-neutral-600",children:"Costo de envío:"}),a.jsx("span",{className:"font-medium",children:c.deliveryFee===0?a.jsx("span",{className:"text-success-600 font-bold",children:"GRATIS"}):`$${c.deliveryFee.toFixed(2)}`})]}),a.jsx("div",{className:"border-t border-neutral-300 pt-3 mt-3",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-bold text-neutral-900",children:"Total:"}),a.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["$",c.totalAmount.toFixed(2)," COP"]})]})})]}),c.deliveryFee>0&&a.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-xl p-4 mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-warning-600 text-lg",children:"💡"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-warning-800 mb-1",children:"¡Casi tienes envío gratis!"}),a.jsxs("p",{className:"text-xs text-warning-700",children:["Agrega $",Math.max(0,5e4-u).toFixed(2)," más para envío gratuito"]})]})]})}),a.jsx("button",{onClick:()=>l(!0),disabled:t.length===0,className:`w-full py-4 px-6 rounded-xl text-lg font-semibold transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] ${t.length===0?"bg-neutral-300 text-neutral-500 cursor-not-allowed":"bg-gradient-primary text-white shadow-soft hover:shadow-medium"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),a.jsx("span",{children:"Pagar con Tarjeta de Crédito"})]})}),a.jsx("button",{onClick:()=>o(!1),className:"w-full mt-3 py-3 px-6 rounded-xl bg-white text-neutral-600 border border-neutral-300 hover:bg-neutral-50 transition-all duration-200 font-medium",children:"Continuar Comprando"}),a.jsx("div",{className:"mt-3 text-center",children:a.jsxs("p",{className:"text-xs text-neutral-500 flex items-center justify-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Pago seguro con Wompi"]})})]})]})})]}),a.jsx(Di,{isOpen:i,onClose:()=>l(!1)})]})},Rr=()=>{const e=ue(),{cartItems:t}=Qe(m=>m.payment),[n,r]=b.useState([]),[s,o]=b.useState(!0),[i,l]=b.useState(null);b.useEffect(()=>{(async()=>{try{o(!0);const y=await yt.getAllProducts();r(y)}catch(y){l(y.message)}finally{o(!1)}})()},[]);const c=m=>{e(aa(m)),e(ea(m))},u=m=>{e(St(m))},d=(m,y)=>{e(Kr({productId:m,quantity:y}))},f=m=>{const y=t.find(g=>g.product.id===m);return y?y.quantity:0};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-primary-50/20 to-neutral-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-slideUp",children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{className:"spinner w-16 h-16 border-4 border-primary-200 border-t-primary-600 mx-auto"}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-100/20 animate-ping"})]}),a.jsx("h3",{className:"text-xl font-semibold text-neutral-800 mb-2",children:"Cargando productos increíbles..."}),a.jsx("p",{className:"text-neutral-600",children:"Preparando la mejor selección para ti"})]})}):i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-error-50/20 to-neutral-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-slideUp",children:[a.jsx("div",{className:"text-6xl mb-6",children:"😞"}),a.jsx("h3",{className:"text-xl font-semibold text-neutral-800 mb-4",children:"Ups, algo salió mal"}),a.jsx("p",{className:"text-neutral-600 mb-6 max-w-md",children:i}),a.jsxs("button",{onClick:()=>{(async()=>{try{o(!0);const y=await yt.getAllProducts();r(y)}catch(y){l(y.message)}finally{o(!1)}})()},className:"btn-primary",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reintentar"]})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-primary-50/20 to-neutral-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-600/90 to-primary-800/90"}),a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.05%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-50"}),a.jsx("div",{className:"relative container-responsive py-16 sm:py-24 lg:py-32",children:a.jsxs("div",{className:"text-center animate-slideUp",children:[a.jsx("div",{className:"text-6xl sm:text-7xl lg:text-8xl mb-6 floating",children:"🛍️"}),a.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Descubre Productos",a.jsx("span",{className:"block text-gradient bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"Extraordinarios"})]}),a.jsx("p",{className:"text-lg sm:text-xl text-white/90 max-w-2xl mx-auto leading-relaxed",children:"Tecnología de última generación, diseño excepcional y la mejor experiencia de compra"}),a.jsxs("div",{className:"flex items-center justify-center gap-8 mt-8 text-white/80",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.length}),a.jsx("div",{className:"text-sm",children:"Productos"})]}),a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:"4.9"}),a.jsx("div",{className:"text-sm",children:"Rating"})]}),a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),a.jsx("div",{className:"text-sm",children:"Soporte"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a.jsx("svg",{className:"w-full h-12 sm:h-16 lg:h-20 text-neutral-50",preserveAspectRatio:"none",viewBox:"0 0 1200 120",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M0,0V60s360,60,600,0S1200,60,1200,60V0Z",className:"fill-current"})})})]}),a.jsxs("div",{className:"container-responsive py-16 sm:py-20 lg:py-24",children:[a.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-neutral-900 mb-4",children:"Nuestros Productos"}),a.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:"Cada producto ha sido cuidadosamente seleccionado para brindarte la mejor experiencia"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8",children:n.map((m,y)=>{const g=f(m.id),v=m.stock<=5&&m.stock>0,p=m.stock===0;return a.jsxs("div",{className:"card-interactive group animate-slideUp",style:{animationDelay:`${y*100}ms`},children:[a.jsxs("div",{className:"relative h-48 sm:h-56 bg-gradient-to-br from-primary-100 via-primary-50 to-neutral-100 rounded-t-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl sm:text-5xl group-hover:scale-110 transition-transform duration-300",children:"📱"})}),a.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[p&&a.jsx("span",{className:"badge-error",children:"Sin Stock"}),v&&a.jsxs("span",{className:"badge-warning",children:["¡Solo ",m.stock,"!"]}),!p&&!v&&a.jsxs("span",{className:"badge-success",children:[m.stock," disponibles"]})]}),a.jsx("div",{className:"absolute inset-0 bg-primary-600/0 group-hover:bg-primary-600/10 transition-all duration-300"})]}),a.jsxs("div",{className:"p-5 sm:p-6",children:[a.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2 line-clamp-2 min-h-[3.5rem] group-hover:text-primary-700 transition-colors",children:m.name}),a.jsx("p",{className:"text-neutral-600 text-sm mb-4 line-clamp-3 min-h-[4rem]",children:m.description}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-primary-600",children:["$",m.price.toLocaleString()]}),a.jsx("span",{className:"text-sm text-neutral-500",children:"COP"})]})}),g===0?a.jsx("button",{onClick:()=>c(m),disabled:p,className:`w-full ${p?"btn-outline opacity-50 cursor-not-allowed":"btn-primary"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})}),"Agotado"]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5.6a1 1 0 001 1.4h9.2M7 13v6a1 1 0 001 1h8a1 1 0 001-1v-6m-9 1h10"})}),"Agregar al Carrito"]})}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between card p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>d(m.id,g-1),className:"w-8 h-8 rounded-xl bg-neutral-100 hover:bg-neutral-200 border border-neutral-200 flex items-center justify-center transition-all hover:scale-105",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),a.jsx("span",{className:"font-bold text-lg px-3 py-1 bg-primary-50 text-primary-700 rounded-lg border border-primary-200 min-w-[3rem] text-center",children:g}),a.jsx("button",{onClick:()=>d(m.id,g+1),disabled:g>=m.stock,className:`w-8 h-8 rounded-xl flex items-center justify-center transition-all hover:scale-105 ${g>=m.stock?"bg-neutral-100 text-neutral-400 cursor-not-allowed border border-neutral-200":"bg-primary-600 text-white hover:bg-primary-700 border border-primary-600"}`,children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-neutral-500",children:"Total"}),a.jsxs("p",{className:"font-bold text-primary-600",children:["$",(m.price*g).toLocaleString()]})]})]}),a.jsxs("button",{onClick:()=>u(m.id),className:"w-full text-error-600 hover:text-error-700 text-sm font-medium py-2 border border-error-200 rounded-xl hover:bg-error-50 transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remover"]})]})]}),v&&a.jsx("div",{className:"px-5 pb-5",children:a.jsx("div",{className:"text-xs text-warning-700 bg-warning-100 rounded-xl px-3 py-2 text-center font-medium border border-warning-200",children:"⚠️ ¡Quedan pocas unidades!"})})]},m.id)})}),n.length===0&&!s&&a.jsxs("div",{className:"text-center py-20 animate-slideUp",children:[a.jsx("div",{className:"text-8xl mb-8",children:"🛍️"}),a.jsx("h3",{className:"text-2xl font-semibold text-neutral-900 mb-4",children:"No hay productos disponibles"}),a.jsx("p",{className:"text-neutral-600 text-lg mb-8 max-w-md mx-auto",children:"Estamos preparando productos increíbles para ti. ¡Vuelve pronto!"}),a.jsxs("button",{onClick:()=>{(async()=>{try{o(!0);const y=await yt.getAllProducts();r(y)}catch(y){l(y.message)}finally{o(!1)}})()},className:"btn-primary",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Recargar Productos"]})]})]}),a.jsx(Fi,{})]})};class xe{static initialize(){console.log("🚀 WompiService inicializado"),console.log("🌐 Frontend URL:",window.location.origin),console.log("🔧 Backend URL:",this.BACKEND_URL),console.log("🔧 Wompi URL:",this.WOMPI_CHECKOUT_URL),console.log("🔧 Public Key:",this.WOMPI_PUBLIC_KEY)}static generateReference(){const t=Date.now(),n=Math.random().toString(36).substring(2,8),r=`TX_${t}_${n}`;return console.log("📝 Referencia generada:",r),r}static blockWompiWidgets(){document.querySelectorAll('script[src*="wompi"], script[src*="checkout"]').forEach(i=>i.remove()),document.querySelectorAll('[id*="wompi"], [class*="wompi"], [data-wompi]').forEach(i=>i.remove());const r=document.createElement;document.createElement=function(i){var c;const l=r.call(this,i);if(i.toLowerCase()==="script"){const u=l,d=(c=Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src"))==null?void 0:c.set;d&&Object.defineProperty(u,"src",{set:function(f){if(f.includes("wompi")||f.includes("checkout.co")){console.warn("🚫 Bloqueado script de Wompi:",f);return}d.call(this,f)},get:function(){return this.getAttribute("src")||""}})}return l};const s=window.fetch;window.fetch=function(...i){const l=i[0].toString();return l.includes("/widget")||l.includes("/v1/transactions")?(console.warn("🚫 Bloqueada petición a widget de Wompi:",l),Promise.reject(new Error("Widget bloqueado intencionalmente"))):s.apply(this,i)},[{name:"wompi-disable-widget",content:"true"},{name:"wompi-form-only",content:"true"},{"http-equiv":"Content-Security-Policy",content:"script-src 'self' 'unsafe-inline'; object-src 'none';"}].forEach(i=>{const l=document.querySelector(`meta[name="${i.name}"], meta[http-equiv="${i["http-equiv"]}"]`);l&&l.remove();const c=document.createElement("meta");Object.entries(i).forEach(([u,d])=>{c.setAttribute(u,d)}),document.head.appendChild(c)}),console.log("🛡️ Sistema anti-widget de Wompi activado")}static async processPayment(t,n){try{console.log("💳 Iniciando proceso de pago con Wompi..."),console.log("🔧 URL del backend:",this.BACKEND_URL),console.log("🔧 URL de Wompi:",this.WOMPI_CHECKOUT_URL),console.log("🔧 Public Key:",this.WOMPI_PUBLIC_KEY),this.blockWompiWidgets();const r=this.generateReference(),s=Math.round(t*100);console.log("📝 Datos del pago:",{reference:r,amount:t,amountInCents:s,customerEmail:n});const o={reference:r,amount_in_cents:s,currency:"COP"};console.log("📤 Enviando a backend:",o);const i=await fetch(`${this.BACKEND_URL}/api/payments/integrity`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify(o)});if(console.log("📥 Respuesta del backend - Status:",i.status),!i.ok){const m=await i.text();throw console.error("❌ Error del backend:",m),new Error(`Error al generar firma: ${i.status} - ${m}`)}const l=await i.json();console.log("🔐 Firma de integridad obtenida:",l),console.log("⚠️ NOTA: No creamos transacción previa. Wompi generará su propia referencia."),console.log("🔄 La transacción se creará via webhook cuando Wompi confirme el pago.");const c=document.createElement("form");c.method="GET",c.action=this.WOMPI_CHECKOUT_URL,c.target="_self",c.style.display="none";const u=[{name:"public-key",value:this.WOMPI_PUBLIC_KEY},{name:"currency",value:"COP"},{name:"amount-in-cents",value:s.toString()},{name:"reference",value:r},{name:"signature:integrity",value:l.integrity},{name:"customer-email",value:n},{name:"redirect-url",value:`${window.location.origin}/payment-result`}];console.log("📋 Todos los campos que se enviarán:"),u.forEach((m,y)=>{const g=document.createElement("input");g.type="hidden",g.name=m.name,g.value=m.value,c.appendChild(g),console.log(`   ${y+1}. ${m.name} = "${m.value}"`)});const d=new URLSearchParams;u.forEach(m=>{d.append(m.name,m.value)});const f=`${this.WOMPI_CHECKOUT_URL}?${d.toString()}`;return console.log("🌐 URL completa que se generará:"),console.log(f),document.body.appendChild(c),console.log("🚀 Enviando formulario a Wompi..."),console.log("📋 Método:",c.method),console.log("📋 Action:",c.action),console.log("📋 Total de campos:",c.children.length),console.log("🔍 HTML del formulario:"),console.log(c.outerHTML),console.log("⏰ Enviando en 2 segundos..."),setTimeout(()=>{console.log("🚀 ¡ENVIANDO AHORA!"),c.submit()},2e3),{reference:r,amount_in_cents:s,integrity:l.integrity}}catch(r){throw console.error("❌ Error procesando pago:",r),console.error("❌ Stack trace:",r instanceof Error?r.stack:"No stack available"),new Error(`Error al procesar el pago: ${r instanceof Error?r.message:"Error desconocido"}`)}}static async getTransactionStatus(t){try{console.log("🔍 Consultando estado de transacción:",t);const n=await fetch(`${this.BACKEND_URL}/api/payments/${t}`,{headers:{"ngrok-skip-browser-warning":"true"}});if(n.status===404){console.log("⚠️ Transacción no encontrada, intentando crear...");const s=new URLSearchParams(window.location.search),o=s.get("amount_in_cents")?(parseInt(s.get("amount_in_cents"))/100).toString():"0",i=s.get("customer-email")||"no-email@example.com";console.log("📝 Datos para crear transacción:",{reference:t,amount:o,customerEmail:i});const l=await fetch(`${this.BACKEND_URL}/api/payments/create-transaction`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({reference:t,amount:o,customer:{email:i,firstName:"Cliente",lastName:"Wompi",phone:"0000000000"},paymentMethod:s.get("payment_method_type")||"CARD"})});if(!l.ok){const u=await l.text();if(console.error("❌ Error creando transacción:",u),l.status===400)return console.log("🔄 La transacción podría existir, reintentando obtener estado..."),await new Promise(d=>setTimeout(d,1e3)),await this.getTransactionStatus(t);throw new Error(`Error creando transacción: ${u}`)}const c=await l.json();if(console.log("✅ Transacción creada:",c),c.success)return c;throw new Error(c.error||"Error desconocido creando transacción")}if(!n.ok)throw new Error(`Error al obtener estado: ${n.status}`);const r=await n.json();if(console.log("📥 Datos de la transacción:",r),!r.success)throw new Error(r.error||"Error desconocido obteniendo estado");return r}catch(n){throw console.error("❌ Error obteniendo estado de transacción:",n),n}}}_e(xe,"WOMPI_CHECKOUT_URL","https://checkout.co.uat.wompi.dev/p/"),_e(xe,"WOMPI_PUBLIC_KEY","pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7"),_e(xe,"BACKEND_URL","https://a9e7-2800-e6-4001-6ea9-accd-1a66-7960-e1be.ngrok-free.app");const Mi=()=>{var g,v;const e=ue(),{cartItems:t,customer:n,creditCard:r,delivery:s,fees:o,cartTotal:i}=Qe(p=>p.payment),[l,c]=b.useState(!1);b.useEffect(()=>{console.log("🟢 SummaryPage cargada"),console.log("🟢 URL actual:",window.location.href),console.log("🟢 Estado del carrito:",{cartItems:t,customer:n,creditCard:r,delivery:s,fees:o,cartTotal:i})},[]);const u=()=>{console.log("🔴 Reseteando todo..."),e(Rt())},d=async()=>{console.log("🔴 BOTÓN DE PAGO CLICKEADO"),console.log("🔴 Estado actual:",{cartItems:t,customer:n,creditCard:r,delivery:s,fees:o,cartTotal:i}),c(!0);try{console.log("🔴 Iniciando proceso de pago...");const p=(o==null?void 0:o.baseFee)||0,N=(o==null?void 0:o.deliveryFee)||0,x=i+p+N,w=(n==null?void 0:n.email)||"cliente@test.com";console.log("🔴 Datos calculados:",{safeBaseFee:p,safeDeliveryFee:N,totalAmount:x,customerEmail:w}),xe.initialize(),console.log("🔴 Llamando a WompiService.processPayment...");const j=await xe.processPayment(x,w);console.log("🔴 Respuesta de WompiService:",j);const E={transactionId:j.reference,status:"pending",wompiTransactionId:"",reference:j.reference,amount:x};console.log("🔴 Guardando transacción en Redux:",E),e(sa(E)),console.log("🔴 Proceso completado, debería redirigir a Wompi...")}catch(p){console.error("🔴 ERROR en handlePayment:",p),console.error("🔴 Error stack:",p instanceof Error?p.stack:"No stack"),alert("Error al procesar el pago. Por favor intenta nuevamente."),c(!1)}};if(!t.length)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No hay productos en el carrito"}),a.jsx("button",{onClick:()=>e(be(1)),className:"text-blue-600 hover:text-blue-700",children:"Volver a productos"})]})});const f=(o==null?void 0:o.baseFee)||0,m=(o==null?void 0:o.deliveryFee)||0,y=i+f+m;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-neutral-900/60 backdrop-blur-sm z-40 animate-fadeIn"}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"text-6xl mb-4",children:"📋"}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Resumen de Compra"}),a.jsx("p",{className:"text-neutral-300 text-lg",children:"Revisa tu pedido antes de continuar"})]})}),a.jsxs("div",{className:"bg-white rounded-t-3xl shadow-strong max-h-[70vh] overflow-hidden animate-slideUp flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-neutral-200 flex-shrink-0",children:[a.jsx("div",{className:"w-12 h-1 bg-neutral-300 rounded-full mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-center",children:"Confirmar Pago"})]}),a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:"🛍️"}),"Tu Pedido"]}),a.jsx("div",{className:"space-y-3",children:t.map((p,N)=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-neutral-50 rounded-xl",style:{animationDelay:`${N*100}ms`},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-neutral-900",children:p.product.name}),a.jsxs("p",{className:"text-sm text-neutral-600",children:["$",p.product.price.toFixed(2)," x ",p.quantity]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-semibold text-neutral-900",children:["$",(p.product.price*p.quantity).toFixed(2)]})})]},p.product.id))}),a.jsxs("div",{className:"mt-6 p-4 bg-neutral-50 rounded-xl space-y-3",children:[a.jsxs("h3",{className:"font-semibold text-neutral-900 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:"💰"}),"Desglose de Costos"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-neutral-600",children:"Subtotal productos:"}),a.jsxs("span",{className:"font-medium",children:["$",i.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-neutral-600",children:"Tarifa base:"}),a.jsxs("span",{className:"font-medium",children:["$",f.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-neutral-600",children:"Costo de envío:"}),a.jsxs("span",{className:"font-medium",children:["$",m.toFixed(2)]})]}),a.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total a pagar:"}),a.jsxs("span",{className:"text-primary-600",children:["$",y.toFixed(2)," COP"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl",children:[a.jsxs("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"👤"}),"Información Personal"]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Nombre:"})," ",n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",n==null?void 0:n.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",n==null?void 0:n.phone]})]})]}),a.jsxs("div",{className:"p-4 bg-green-50 rounded-xl",children:[a.jsxs("h3",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"💳"}),"Método de Pago"]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Tarjeta:"})," **** **** **** ",(g=r==null?void 0:r.cardNumber)==null?void 0:g.slice(-4)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Titular:"})," ",r==null?void 0:r.cardHolder]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Tipo:"})," ",(v=r==null?void 0:r.cardType)==null?void 0:v.toUpperCase()]})]})]}),a.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl md:col-span-2",children:[a.jsxs("h3",{className:"font-semibold text-purple-900 mb-3 flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:"📦"}),"Dirección de Entrega"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Dirección:"})," ",s==null?void 0:s.address]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ciudad:"})," ",s==null?void 0:s.city]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Departamento:"})," ",s==null?void 0:s.department]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Código Postal:"})," ",s==null?void 0:s.postalCode]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Destinatario:"})," ",s==null?void 0:s.recipientName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",s==null?void 0:s.recipientPhone]})]})]})]})]})}),a.jsxs("div",{className:"border-t border-neutral-200 p-6 bg-white flex-shrink-0 space-y-4",children:[a.jsx("button",{onClick:d,disabled:l,className:`w-full py-4 px-6 rounded-xl text-xl font-bold transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] ${l?"bg-neutral-400 text-neutral-600 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-strong hover:shadow-mega"}`,children:l?a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"spinner w-6 h-6 border-white"}),a.jsx("span",{children:"Conectando con Wompi..."})]}):a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),a.jsxs("span",{children:["Pagar con Wompi $",y.toFixed(2)," COP"]})]})}),a.jsx("button",{onClick:u,disabled:l,className:"w-full py-3 px-6 rounded-xl text-lg font-medium transition-all duration-200 border-2 border-neutral-300 text-neutral-700 hover:border-neutral-400 hover:bg-neutral-50 active:scale-[0.98]",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Hacer Otro Pago"})]})}),a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 text-xs text-neutral-500",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),a.jsx("span",{children:"Serás redirigido a la plataforma segura de Wompi"})]})]})]})]})})]})},Ui=()=>{const e=ue(),{currentStep:t,cartItems:n}=Qe(l=>l.payment);b.useEffect(()=>{n.length===0&&t>1&&e(be(1))},[n.length,t,e]);const r=(l,c,u)=>c?a.jsx("div",{className:"w-8 h-8 bg-success-500 text-white rounded-full flex items-center justify-center shadow-soft",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):u?a.jsx("div",{className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center shadow-soft animate-pulse-slow",children:a.jsx("span",{className:"text-sm font-bold",children:l})}):a.jsx("div",{className:"w-8 h-8 bg-neutral-300 text-neutral-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium",children:l})}),s=[{number:1,title:"Productos",description:"Selecciona y compra"},{number:2,title:"Pagar",description:"Confirmar con Wompi"}],o=()=>a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-100 via-primary-50 to-transparent opacity-30 rounded-3xl blur-xl"}),a.jsx("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-soft border border-white/20",children:a.jsx("div",{className:"flex items-center justify-between",children:s.map((l,c)=>{const u=t>l.number,d=t===l.number;return a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[r(l.number,u,d),a.jsxs("div",{className:"mt-2 text-center",children:[a.jsx("div",{className:`text-sm font-medium ${d?"text-primary-700":u?"text-success-700":"text-neutral-500"}`,children:l.title}),a.jsx("div",{className:"text-xs text-neutral-500 hidden sm:block",children:l.description})]})]}),c<s.length-1&&a.jsx("div",{className:`flex-1 h-0.5 mx-4 ${u?"bg-success-300":"bg-neutral-200"} transition-colors duration-300`})]},l.number)})})})]}),i=()=>{switch(t){case 1:return a.jsx(Rr,{});case 2:return a.jsx(Mi,{});default:return a.jsx(Rr,{})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-white to-primary-50/30 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-30",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary-200 to-primary-300 rounded-full mix-blend-multiply filter blur-xl animate-blob"}),a.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-gradient-to-br from-purple-200 to-pink-300 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000"}),a.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-gradient-to-br from-yellow-200 to-orange-300 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-4000"})]}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o(),a.jsx("div",{className:"mt-8",children:i()})]})})]})},Bi=()=>{const e=Ye(),t=an(),n=ue(),r=Lr(),[s,o]=b.useState(!0),[i,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState(!1),m=b.useRef(0),y=b.useRef(null),g=3e3,v=8e3,[p,N]=b.useState("Esperando confirmación de Wompi..."),x=new URLSearchParams(e.search),w=x.get("id"),j=x.get("reference"),E=b.useCallback(async()=>{var W,Q,Pe,Ht;try{const G=j||w;if(!G)return console.error("No se encontró referencia o ID de transacción"),l("ERROR_NO_REFERENCE"),"ERROR_NO_REFERENCE";console.log(`[Intento ${m.current+1}] Consultando estado para referencia:`,G);const Te=await fetch(`https://a9e7-2800-e6-4001-6ea9-accd-1a66-7960-e1be.ngrok-free.app/api/payments/${G}`,{headers:{"ngrok-skip-browser-warning":"true"}});if(!Te.ok){if(Te.status===404){console.log("🔄 Transacción no encontrada, intentando crear con datos del Redux...");const S=r.getState(),I=x.get("amount_in_cents")?parseInt(x.get("amount_in_cents"))/100:0,Vt=I>0?I:S.payment.cartTotal,Kt={reference:G,amount:Vt.toString(),customer:S.payment.customer||{firstName:"Cliente",lastName:"Wompi",email:x.get("customer-email")||"no-email@example.com",phone:"0000000000"},delivery:S.payment.delivery||null,cartItems:S.payment.cartItems||[],creditCard:S.payment.creditCard||null,paymentMethod:x.get("payment_method_type")||"CARD"};console.log("📦 Datos completos para crear transacción:",Kt);const ot=await fetch("https://a9e7-2800-e6-4001-6ea9-accd-1a66-7960-e1be.ngrok-free.app/api/payments/create-transaction",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify(Kt)});if(ot.ok){console.log("✅ Transacción creada con datos del Redux");const D=await ot.json();if(console.log("📋 Datos de transacción creada:",D),D.success)return u({id:D.data.id,reference:D.data.reference||G,amount:Vt,status:D.data.status,createdAt:D.data.createdAt,updatedAt:D.data.updatedAt,paymentMethod:D.data.paymentMethod||"Tarjeta de Crédito",paymentToken:D.data.paymentToken,customer:S.payment.customer?{id:0,firstName:S.payment.customer.firstName,lastName:S.payment.customer.lastName,email:S.payment.customer.email,phone:S.payment.customer.phone,documentType:"",documentNumber:""}:void 0,product:(Q=(W=S.payment.cartItems)==null?void 0:W[0])!=null&&Q.product?{id:parseInt(S.payment.cartItems[0].product.id.toString()),name:S.payment.cartItems[0].product.name,description:S.payment.cartItems[0].product.description,price:parseFloat(S.payment.cartItems[0].product.price.toString()),stock:S.payment.cartItems[0].product.stock}:void 0,wompiTransactionId:D.data.wompiTransactionId}),l(D.data.status),D.data.status}else{const D=await ot.text();console.warn("❌ No se pudo crear transacción con datos del Redux:",D)}}return console.warn(`[Intento ${m.current+1}] Error en la consulta:`,Te.status),l("ERROR_CONSULTA"),"ERROR_CONSULTA"}const q=await Te.json();if(console.log(`[Intento ${m.current+1}] Respuesta del backend:`,q),q.success&&q.data){const S=q.data,I=r.getState();return u({id:S.id,reference:S.reference||G,amount:S.amount>0?S.amount:I.payment.cartTotal,status:S.status,createdAt:S.createdAt,updatedAt:S.updatedAt,paymentMethod:S.paymentMethod||"Tarjeta de Crédito",paymentToken:S.paymentToken,customer:S.customer||(I.payment.customer?{id:0,firstName:I.payment.customer.firstName,lastName:I.payment.customer.lastName,email:I.payment.customer.email,phone:I.payment.customer.phone,documentType:"",documentNumber:""}:void 0),product:S.product||((Ht=(Pe=I.payment.cartItems)==null?void 0:Pe[0])!=null&&Ht.product?{id:parseInt(I.payment.cartItems[0].product.id.toString()),name:I.payment.cartItems[0].product.name,description:I.payment.cartItems[0].product.description,price:parseFloat(I.payment.cartItems[0].product.price.toString()),stock:I.payment.cartItems[0].product.stock}:void 0),wompiTransactionId:S.wompiTransactionId}),l(S.status),S.status}else return console.warn(`[Intento ${m.current+1}] Consulta no exitosa:`,q),l((q==null?void 0:q.status)||"ERROR_CONSULTA"),(q==null?void 0:q.status)||"ERROR_CONSULTA"}catch(G){return console.error(`[Intento ${m.current+1}] Error en fetchPaymentStatus:`,G),l("ERROR_NETWORK"),"ERROR_NETWORK"}},[j,w,r]);b.useEffect(()=>{let W=!0;m.current===0&&o(!0);const Q=async()=>{y.current&&window.clearTimeout(y.current),m.current+=1,m.current%15===0&&N(`Aún esperando confirmación de Wompi... (${Math.floor(m.current/7.5)} minutos)`),console.log(`Iniciando intento ${m.current}`),W&&f(!0);const Pe=await E();W&&(s&&o(!1),Pe==="PENDING"?y.current=window.setTimeout(Q,v):f(!1))};return m.current=0,y.current=window.setTimeout(Q,g),()=>{W=!1,y.current&&window.clearTimeout(y.current),f(!1)}},[E,s]);const R=W=>typeof W!="number"||isNaN(W)?"$ 0":new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(W),k=()=>{switch(i){case"COMPLETED":case"APPROVED":return{icon:"✅",title:"¡Pago Exitoso!",message:"Tu compra ha sido procesada correctamente.",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};case"PENDING":case"PROCESSING":return{icon:"⏰",title:"Pago en Proceso",message:"Tu pago está siendo procesado. Te notificaremos cuando se complete.",color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"FAILED":case"REJECTED":case"DECLINED":return{icon:"❌",title:"Pago Rechazado",message:"Tu pago fue rechazado. Por favor, intenta con otro método o contacta a tu banco.",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};default:return{icon:"❓",title:"Estado del Pago",message:`No se pudo confirmar el estado final de tu pago. Referencia: ${j||w}. Contacta a soporte si el problema persiste.`,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}}},O=()=>{n(Rt()),n(be(1)),t("/")},_=()=>{n(Rt()),n(be(1)),t("/")};if(s&&!c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-lg text-center max-w-md w-full mx-4",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Verificando tu pago..."}),a.jsx("p",{className:"text-gray-600",children:"Por favor espera mientras confirmamos el estado de tu transacción."})]})});const U=k();return!c&&!s&&i!=="PENDING"&&i!=="APPROVED"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white shadow-xl rounded-lg p-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:U.icon}),a.jsx("h2",{className:`text-2xl font-bold ${U.color} mb-4`,children:U.title}),a.jsx("p",{className:"text-gray-600 mb-6",children:U.message}),a.jsx("button",{onClick:O,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Volver a la Tienda"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[a.jsxs("div",{className:`p-6 text-center border-b ${U.bgColor} ${U.borderColor}`,children:[a.jsxs("div",{className:"flex justify-center items-center mb-4",children:[a.jsx("div",{className:"text-6xl",children:U.icon}),d&&i==="PENDING"&&a.jsx("div",{className:"ml-4 animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full"})]}),a.jsx("h1",{className:`text-3xl font-bold ${U.color} mb-2`,children:U.title}),a.jsx("p",{className:"text-gray-600 text-lg",children:U.message}),d&&i==="PENDING"&&a.jsx("p",{className:"mt-3 text-sm text-yellow-600 font-medium",children:p})]}),c&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:"📄 Información de la Transacción"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Referencia"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c.reference})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"ID Wompi"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c.wompiTransactionId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Fecha y Hora"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c.createdAt?new Date(c.createdAt).toLocaleString("es-CO"):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c.paymentMethod})]})]})]}),c.customer&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:"👤 Información del Cliente"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Nombre"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[c.customer.firstName," ",c.customer.lastName]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c.customer.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Teléfono"}),a.jsx("p",{className:"font-semibold text-gray-900",children:c.customer.phone})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Documento"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[c.customer.documentType," ",c.customer.documentNumber]})]})]})]}),c.product&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:"🛍️ Producto Comprado"}),a.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:c.product.name}),a.jsx("p",{className:"text-gray-600 mt-1",children:c.product.description}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Cantidad: 1"})]}),a.jsx("div",{className:"text-right ml-4",children:a.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(c.product.price)})})]})})]}),a.jsx("div",{className:"border-t pt-6",children:a.jsxs("div",{className:"flex justify-between items-center text-2xl font-bold",children:[a.jsx("span",{className:"text-gray-700",children:"TOTAL PAGADO:"}),a.jsx("span",{className:"text-blue-600",children:R(c.amount)})]})})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex flex-col sm:flex-row gap-4 justify-end",children:[a.jsx("button",{onClick:_,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Hacer Otra Compra"}),a.jsx("button",{onClick:O,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Volver a la Tienda"})]})]})})})},$i=()=>a.jsx(no,{children:a.jsx("div",{className:"App",children:a.jsxs(eo,{children:[a.jsx(Le,{path:"/",element:a.jsx(Ui,{})}),a.jsx(Le,{path:"/payment-result",element:a.jsx(Bi,{})}),a.jsx(Le,{path:"*",element:a.jsx(Qa,{to:"/",replace:!0})})]})})});bt.createRoot(document.getElementById("root")).render(a.jsx(Un.StrictMode,{children:a.jsx(us,{store:Pt,children:a.jsx($i,{})})}));
